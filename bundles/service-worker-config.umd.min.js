/**
 * @license Angular v7.1.0-beta.2-da59206995
 * (c) 2010-2018 Google, Inc. https://angular.io/
 * License: MIT
 */
!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global.ng=global.ng||{},global.ng.serviceWorker=global.ng.serviceWorker||{},global.ng.serviceWorker.config={}))}(this,function(exports){"use strict";function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}
/**
 * @license Angular v7.1.0-beta.2-da59206995
 * (c) 2010-2018 Google, Inc. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var PARSE_TO_PAIRS=/([0-9]+[^0-9]+)/g,PAIR_SPLIT=/^([0-9]+)([dhmsu]+)$/;function parseDurationToMs(duration){for(var array,matches=[];null!==(array=PARSE_TO_PAIRS.exec(duration));)matches.push(array[0]);return matches.map(function(match){var res=PAIR_SPLIT.exec(match);if(null===res)throw new Error("Not a valid duration: "+match);var factor=0;switch(res[2]){case"d":factor=864e5;break;case"h":factor=36e5;break;case"m":factor=6e4;break;case"s":factor=1e3;break;case"u":factor=1;break;default:throw new Error("Not a valid duration unit: "+res[2])}return parseInt(res[1])*factor}).reduce(function(total,value){return total+value},0)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var WILD_OPEN="(?:.+\\/)?",TO_ESCAPE_BASE=[{replace:/\./g,with:"\\."},{replace:/\+/g,with:"\\+"},{replace:/\*/g,with:"[^/]*"}],TO_ESCAPE_WILDCARD_QM=TO_ESCAPE_BASE.concat([{replace:/\?/g,with:"[^/]"}]),TO_ESCAPE_LITERAL_QM=TO_ESCAPE_BASE.concat([{replace:/\?/g,with:"\\?"}]);function globToRegex(glob,literalQuestionMark){void 0===literalQuestionMark&&(literalQuestionMark=!1);for(var toEscape=literalQuestionMark?TO_ESCAPE_LITERAL_QM:TO_ESCAPE_WILDCARD_QM,segments=glob.split("/").reverse(),regex="";segments.length>0;){var segment=segments.pop();if("**"===segment)segments.length>0?regex+=WILD_OPEN:regex+=".*";else regex+=toEscape.reduce(function(segment,escape){return segment.replace(escape.replace,escape.with)},segment),segments.length>0&&(regex+="\\/")}return regex}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var DEFAULT_NAVIGATION_URLS=["/**","!/**/*.*","!/**/*__*","!/**/*__*/**"],Generator=function(){function Generator(fs,baseHref){this.fs=fs,this.baseHref=baseHref}return Generator.prototype.process=function(config){return __awaiter(this,void 0,void 0,function(){var unorderedHashTable,assetGroups;return __generator(this,function(_a){switch(_a.label){case 0:return unorderedHashTable={},[4,this.processAssetGroups(config,unorderedHashTable)];case 1:return assetGroups=_a.sent(),[2,{configVersion:1,appData:config.appData,index:joinUrls(this.baseHref,config.index),assetGroups:assetGroups,dataGroups:this.processDataGroups(config),hashTable:(unorderedObj=unorderedHashTable,orderedObj={},Object.keys(unorderedObj).sort().forEach(function(key){return orderedObj[key]=unorderedObj[key]}),orderedObj),navigationUrls:function(baseHref,urls){void 0===urls&&(urls=DEFAULT_NAVIGATION_URLS);return urls.map(function(url){var positive=!url.startsWith("!");return url=positive?url:url.substr(1),{positive:positive,regex:"^"+urlToRegex(url,baseHref)+"$"}})}(this.baseHref,config.navigationUrls)}]}var unorderedObj,orderedObj})})},Generator.prototype.processAssetGroups=function(config,hashTable){return __awaiter(this,void 0,void 0,function(){var seenMap,_this=this;return __generator(this,function(_a){return seenMap=new Set,[2,Promise.all((config.assetGroups||[]).map(function(group){return __awaiter(_this,void 0,void 0,function(){var fileMatcher,versionedMatcher,allFiles,plainFiles,versionedFiles,matchedFiles,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return group.resources.versionedFiles&&console.warn("Asset-group '"+group.name+"' in 'ngsw-config.json' uses the 'versionedFiles' option.\nAs of v6 'versionedFiles' and 'files' options have the same behavior. Use 'files' instead."),fileMatcher=globListToMatcher(group.resources.files||[]),versionedMatcher=globListToMatcher(group.resources.versionedFiles||[]),[4,this.fs.list("/")];case 1:return allFiles=_a.sent(),(plainFiles=allFiles.filter(fileMatcher).filter(function(file){return!seenMap.has(file)})).forEach(function(file){return seenMap.add(file)}),(versionedFiles=allFiles.filter(versionedMatcher).filter(function(file){return!seenMap.has(file)})).forEach(function(file){return seenMap.add(file)}),[4,(matchedFiles=plainFiles.concat(versionedFiles).sort()).reduce(function(previous,file){return __awaiter(_this,void 0,void 0,function(){var hash;return __generator(this,function(_a){switch(_a.label){case 0:return[4,previous];case 1:return _a.sent(),[4,this.fs.hash(file)];case 2:return hash=_a.sent(),hashTable[joinUrls(this.baseHref,file)]=hash,[2]}})})},Promise.resolve())];case 2:return _a.sent(),[2,{name:group.name,installMode:group.installMode||"prefetch",updateMode:group.updateMode||group.installMode||"prefetch",urls:matchedFiles.map(function(url){return joinUrls(_this.baseHref,url)}),patterns:(group.resources.urls||[]).map(function(url){return urlToRegex(url,_this.baseHref,!0)})}]}})})}))]})})},Generator.prototype.processDataGroups=function(config){var _this=this;return(config.dataGroups||[]).map(function(group){return{name:group.name,patterns:group.urls.map(function(url){return urlToRegex(url,_this.baseHref,!0)}),strategy:group.cacheConfig.strategy||"performance",maxSize:group.cacheConfig.maxSize,maxAge:parseDurationToMs(group.cacheConfig.maxAge),timeoutMs:group.cacheConfig.timeout&&parseDurationToMs(group.cacheConfig.timeout),version:void 0!==group.version?group.version:1}})},Generator}();function globListToMatcher(globs){var patterns=globs.map(function(pattern){return pattern.startsWith("!")?{positive:!1,regex:new RegExp("^"+globToRegex(pattern.substr(1))+"$")}:{positive:!0,regex:new RegExp("^"+globToRegex(pattern)+"$")}});return function(file){return function(file,patterns){return patterns.reduce(function(isMatch,pattern){return pattern.positive?isMatch||pattern.regex.test(file):isMatch&&!pattern.regex.test(file)},!1)}(file,patterns)}}function urlToRegex(url,baseHref,literalQuestionMark){return url.startsWith("/")||-1!==url.indexOf("://")||(url=joinUrls(baseHref,url)),globToRegex(url,literalQuestionMark)}function joinUrls(a,b){return a.endsWith("/")&&b.startsWith("/")?a+b.substr(1):a.endsWith("/")||b.startsWith("/")?a+b:a+"/"+b}exports.Generator=Generator,Object.defineProperty(exports,"__esModule",{value:!0})});